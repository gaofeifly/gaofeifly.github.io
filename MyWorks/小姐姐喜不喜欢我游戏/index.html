<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Love Me Or Not</title>
  <link rel="stylesheet" type="text/css" href="animate.css">
  <style>
    #container {
      position: relative;
      width: 650px;
      height: 550px;
      background-color: #66ccff;
    }
    #container > input {
      position: absolute;
      border-radius: 5%;
      width: 50px;
      height: 30px;
      line-height: 30px;
      text-align: center;
      cursor: pointer;
      border: 0px;
    }
    #love {
      z-index: 3;
      color: #eee;
      background-color: #ff66cc;
      font-size: 12px;
      -webkit-animation-duration:2s;
      -moz-animation-duration:2s;
      -o-animation-duration:2s;
      animation-duration:2s;
      -webkit-animation-iteration-count:infinite;
      -moz-animation-iteration-count:infinite;
      -o-animation-iteration-count:infinite;
      animation-iteration-count:infinite;
    }
    #notlove {
      z-index: 2;
      color: #333;
      background-color: #999999;
      font-size: 10px;
    }
    .showlove {
      z-index: 4;
      position: absolute;
      left: 200px;
      top: 200px;
      width: 150px;
      height: 100px;
      background-color: #ffa500;
      border-radius: 5%;
      padding: 10px;
      text-align: center;
      color: #fff;
    }
    .mmd {
      width: 55px;
      height: 45px;
      background-color: #ffd700;
      border-radius: 10%;
      position: absolute;
      bottom: 10px;
      left: 30%;
      border: 0px;
      color: #fff;
      -webkit-animation-delay: 1s;
      -moz-animation-delay: 1s;
      -o-animation-delay: 1s;
      animation-delay: 1s;
      cursor: pointer;
    }
    .title {
      font-size: 30px;
      position: absolute;
      top: 5%;
      left: 5%;
      color: #fff;
      animation-duration: 1.5s;
      animation-iteration-count: 2;
    }
    @keyframes myZoomIn {
      0%{opacity: 0;}
      100%{opacity: 1;}
    }
  </style>
</head>
<body>
<div id="container">
  <div class="title animated swing">å°å§å§å–œä¸å–œæ¬¢æˆ‘ï¼Ÿ</div>
  <input id="love" type="button" class="animated tada" value="å–œæ¬¢æˆ‘">
  <input id="notlove" type="button" class="animated zoomIn" value="ä¸å–œæ¬¢æˆ‘">
</div>
<script src="jquery.min.js"></script>
<script>
var container = document.getElementById("container");
var love = document.getElementById("love");
var notlove = document.getElementById("notlove");
var count = 0;      //è®°å½•ä¸å–œæ¬¢æ¬¡æ•°
var lovepos = {};     //å–œæ¬¢æˆ‘ æ ‡ç­¾çš„ä½ç½®
var lastpos = {x:0,y:0};   //  è®°å½•ä¸Šä¸€ä¸ªä¸å–œæ¬¢æˆ‘æ ‡ç­¾çš„ä½ç½®
var pos = {x:0,y:0};   //  è®°å½•å½“å‰ä¸å–œæ¬¢æˆ‘æ ‡ç­¾çš„ä½ç½®
// å®¹å™¨çš„å®½é«˜
var width = 600;
var height = 500;
// ä¸å–œæ¬¢æˆ‘ æ ‡ç­¾ç›‘å¬äº‹ä»¶
notlove.onmouseover = function(){
  count++;
  $("#notlove").css("animation","");
  console.log("è¿™æ˜¯ä½ ç¬¬"+count+"æ¬¡æ‹’ç»æˆ‘ ):");
  generateNotLove();
  notlove.style.left = pos.x + "px";
  notlove.style.top = pos.y + "px";
  console.log($("#notlove").css("animation"));    // éå¾—åŠ ä¸Šè¿™å¥è¯æ‰èƒ½å®ç°æ¯æ¬¡å‡ºç°æ—¶çš„æ·¡å…¥æ•ˆæœï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆ
  $("#notlove").css("animation","myZoomIn 0.8s");
}
// å–œæ¬¢æˆ‘ ç‚¹å‡»äº‹ä»¶
love.onclick = function(){
  var showlove = document.createElement("div");
  showlove.setAttribute("class","showlove animated jello");
  showlove.innerHTML = "Yeahä½ ç»ˆäº<br>å–œæ¬¢æˆ‘äº† :)";
  var mmd = document.createElement("input");
  mmd.setAttribute("class","mmd animated bounceInLeft");
  mmd.setAttribute("type","button");
  mmd.setAttribute("value","ä¹ˆä¹ˆğŸ˜˜");
  showlove.appendChild(mmd);
  container.appendChild(showlove);
  mmd.onclick = function(){
    $(".showlove").attr("class","showlove");
    $(".showlove").addClass("animated zoomOut");
    $(".showlove").remove();        // åœ¨chromeé‡Œä¼šç•™ä¸‹è¾¹ç¼˜ å¾…é¼ æ ‡ç§»é™¤ç½‘é¡µé¡µé¢åè¾¹ç¼˜è‡ªåŠ¨æ¶ˆå¤±  ç¥å¥‡~~
  }
}
start();
function start(){
  generateLove();
  generateNotLove();
  love.style.left = lovepos.x + "px";
  love.style.top = lovepos.y + "px";
  notlove.style.left = pos.x + "px";
  notlove.style.top = pos.y + "px";
}

// è®¾ç½®å–œæ¬¢æˆ‘æ ‡ç­¾çš„ä½ç½®
function generateLove(){
  lovepos.x = 0.5 * width;
  lovepos.y = 0.5 * height;

}
// éšæœºç”Ÿæˆâ€œä¸å–œæ¬¢æˆ‘â€æ ‡ç­¾ä½ç½®
function generateNotLove(){
  // è®¾ç½®å½“å‰ä½ç½®å’Œä¸Šä¸€ä¸ªä½ç½®
  var random1 = Math.random();
  var random2 = Math.random();
  var x = pos.x;
  var y = pos.y;
  lastpos.x = x;
  lastpos.y = y;
  do{
    pos.x = Math.round(random1 * width);
    pos.y = Math.round(random2 * height);
  }while(Math.abs(pos.x-lastpos.x)<30 && Math.abs(pos.y-lastpos.y)<30 && Math.abs(pos.x-lovepos.x)<30 && Math.abs(pos.y-lovepos.y)<30)
}
</script>
</body>
</html>